<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ëä±È©¨‰∫ëÁöÑÈí± | Spend Jack Ma's Money</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- html2canvas Áî®‰∫éÂØºÂá∫ÂõæÁâá -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <!-- jsPDF Áî®‰∫éÂØºÂá∫PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        /* Âü∫Á°ÄÊ†∑ÂºèÈáçÁΩÆ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4efe9 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            transition: background 0.5s ease;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
        }
        
        /* ‰∏ªÈ¢òÈÄâÊã©Âô® */
        .theme-selector {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 100;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: flex-end;
        }
        
        .theme-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 3px solid white;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }
        
        .theme-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .theme-btn.active {
            transform: scale(1.1);
            border-color: #ffd700;
            box-shadow: 0 0 0 3px #ffd700, 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        /* ‰∏ªÈ¢ò1: ÂñúÂ∫ÜÁ∫¢Èáë‰∏ªÈ¢ò */
        .theme-1 {
            background: linear-gradient(45deg, #ff6b6b, #ff8e53);
        }
        
        .theme-1 .header {
            background: linear-gradient(90deg, #c62828 0%, #ff9800 100%);
        }
        
        .theme-1 .product-card:hover {
            box-shadow: 0 15px 30px rgba(255, 107, 107, 0.3);
        }
        
        .theme-1 .btn-buy {
            background: linear-gradient(90deg, #c62828, #ff9800);
        }
        
        .theme-1 .fortune-amount {
            color: #ffd700;
        }
        
        /* ‰∏ªÈ¢ò2: Â•¢ÂçéÁ¥´Èáë‰∏ªÈ¢ò */
        .theme-2 {
            background: linear-gradient(135deg, #8e24aa 0%, #ffd600 100%);
        }
        
        .theme-2 .header {
            background: linear-gradient(90deg, #6a1b9a 0%, #ab47bc 100%);
        }
        
        .theme-2 .product-card:hover {
            box-shadow: 0 15px 30px rgba(142, 36, 170, 0.3);
        }
        
        .theme-2 .btn-buy {
            background: linear-gradient(90deg, #6a1b9a, #ab47bc);
        }
        
        .theme-2 .fortune-amount {
            color: #ffd600;
        }
        
        /* ‰∏ªÈ¢ò3: Ë¥¢ÂØåËìùÈáë‰∏ªÈ¢ò */
        .theme-3 {
            background: linear-gradient(135deg, #1565c0 0%, #4fc3f7 100%);
        }
        
        .theme-3 .header {
            background: linear-gradient(90deg, #0d47a1 0%, #42a5f5 100%);
        }
        
        .theme-3 .product-card:hover {
            box-shadow: 0 15px 30px rgba(21, 101, 192, 0.3);
        }
        
        .theme-3 .btn-buy {
            background: linear-gradient(90deg, #0d47a1, #42a5f5);
        }
        
        .theme-3 .fortune-amount {
            color: #4fc3f7;
        }
        
        /* ‰∏ªÈ¢ò4: Âø´‰πêÂΩ©Ëôπ‰∏ªÈ¢ò */
        .theme-4 {
            background: linear-gradient(45deg, #ff6b6b, #ff8e53, #ffd166, #06d6a0, #118ab2, #073b4c);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .theme-4 .header {
            background: linear-gradient(90deg, #ff6b6b, #ff8e53, #ffd166, #06d6a0);
            background-size: 300% 300%;
            animation: headerGradient 10s ease infinite;
        }
        
        @keyframes headerGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .theme-4 .product-card {
            border: 2px solid transparent;
            background-clip: padding-box;
            position: relative;
        }
        
        .theme-4 .product-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ff6b6b, #ff8e53, #ffd166, #06d6a0);
            border-radius: 17px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .theme-4 .product-card:hover::before {
            opacity: 1;
        }
        
        .theme-4 .btn-buy {
            background: linear-gradient(90deg, #ff6b6b, #ff8e53);
        }
        
        /* ‰∏ªÈ¢ò5: ‰º†Áªü‰∏≠ÂõΩÁ∫¢‰∏ªÈ¢ò */
        .theme-5 {
            background: linear-gradient(135deg, #f8e9e9 0%, #fff5e6 100%);
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffcccc' fill-opacity='0.2' fill-rule='evenodd'/%3E%3C/svg%3E");
        }
        
        .theme-5 .header {
            background: linear-gradient(90deg, #b71c1c 0%, #d32f2f 100%);
            position: relative;
            overflow: hidden;
        }
        
        .theme-5 .header::before {
            content: "Á¶è";
            position: absolute;
            font-size: 200px;
            color: rgba(255, 255, 255, 0.1);
            font-weight: bold;
            right: 50px;
            top: 50%;
            transform: translateY(-50%);
            font-family: "KaiTi", "Ê•∑‰Ωì", serif;
        }
        
        .theme-5 .header h1 i {
            color: #ffd700;
        }
        
        .theme-5 .product-card {
            border: 2px solid #ffcdd2;
            transition: all 0.3s ease;
        }
        
        .theme-5 .product-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 30px rgba(183, 28, 28, 0.2);
            border-color: #d32f2f;
        }
        
        .theme-5 .btn-buy {
            background: linear-gradient(90deg, #b71c1c, #d32f2f);
            font-weight: bold;
        }
        
        .theme-5 .fortune-amount {
            color: #ffd700;
            text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.3);
        }
        
        /* ÈáëÈí±ÁâπÊïà */
        .money-effect {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            font-size: 24px;
            animation: floatUp 1s ease-out forwards;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        @keyframes floatUp {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) scale(0.5);
                opacity: 0;
            }
        }
        
        /* Â§¥ÈÉ®Ê†∑Âºè */
        .header {
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 30px;
        }
        
        .fortune-display {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            gap: 30px;
            background-color: rgba(255, 255, 255, 0.15);
            padding: 25px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 1;
        }
        
        .fortune-info, .remaining-info {
            flex: 1;
            min-width: 300px;
        }
        
        .fortune-label, .remaining-label {
            font-size: 1.1rem;
            margin-bottom: 10px;
            opacity: 0.9;
        }
        
        .fortune-amount {
            font-size: 2.8rem;
            font-weight: 800;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 5px;
        }
        
        .remaining-amount {
            font-size: 3rem;
            font-weight: 900;
            color: #4cff4c;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        
        .remaining-amount.low {
            color: #ff6b6b;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .fortune-note {
            font-size: 0.9rem;
            opacity: 0.8;
            font-style: italic;
        }
        
        .progress-bar {
            height: 20px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4cff4c, #ffeb3b);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .spent-label {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        /* ÊéßÂà∂Èù¢Êùø */
        .controls {
            padding: 20px 30px;
            background-color: #f8f9fa;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
            border-bottom: 2px solid #e9ecef;
        }
        
        .total-spent {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1a2980;
            transition: all 0.3s ease;
        }
        
        .total-spent.high {
            color: #e53935;
            transform: scale(1.1);
        }
        
        .total-spent span {
            color: #e53935;
        }
        
        .buttons {
            display: flex;
            gap: 15px;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        .btn-reset {
            background-color: #ff6b6b;
            color: white;
        }
        
        .btn-reset:hover {
            background-color: #ff5252;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }
        
        .btn-share {
            background-color: #4267B2;
            color: white;
        }
        
        .btn-share:hover {
            background-color: #365899;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(66, 103, 178, 0.4);
        }
        
        /* Âø´‰πêÊèêÁ§∫ */
        .happiness-indicator {
            padding: 10px 20px;
            background: linear-gradient(90deg, #ffd700, #ff9800);
            color: #333;
            text-align: center;
            font-weight: bold;
            border-radius: 0 0 10px 10px;
            margin: -2px auto 0;
            max-width: 300px;
            box-shadow: 0 3px 10px rgba(255, 152, 0, 0.3);
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        /* ÂïÜÂìÅÁΩëÊ†º */
        .categories {
            padding: 20px 30px;
            background-color: #f8f9fa;
        }
        
        .category-tabs {
            display: flex;
            overflow-x: auto;
            gap: 10px;
            padding-bottom: 10px;
        }
        
        .category-btn {
            padding: 10px 20px;
            background-color: white;
            border: 2px solid #dee2e6;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s ease;
        }
        
        .category-btn.active {
            background-color: #1a2980;
            color: white;
            border-color: #1a2980;
        }
        
        .category-btn:hover:not(.active) {
            border-color: #1a2980;
            color: #1a2980;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            padding: 30px;
            min-height: 500px;
        }
        
        .product-card {
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border: 1px solid #e9ecef;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        .product-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(45deg, #ff6b6b, #ff9800);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 2;
        }
        
        .product-image {
            height: 180px;
            background-color: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            font-size: 3rem;
            position: relative;
            overflow: hidden;
        }
        
        .product-image::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0));
            z-index: 1;
        }
        
        .product-content {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .product-name {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #1a2980;
        }
        
        .product-description {
            color: #6c757d;
            margin-bottom: 15px;
            line-height: 1.5;
            flex-grow: 1;
        }
        
        .product-price {
            font-size: 1.6rem;
            font-weight: 800;
            color: #e53935;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .product-price i {
            font-size: 1.2rem;
        }
        
        .product-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .quantity-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            background-color: #f1f3f4;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        
        .quantity-btn:hover {
            background-color: #1a2980;
            color: white;
        }
        
        .quantity {
            font-size: 1.2rem;
            font-weight: 600;
            min-width: 30px;
            text-align: center;
        }
        
        .btn-buy {
            padding: 10px 20px;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }
        
        .btn-buy::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transform: rotate(45deg);
            transition: all 0.5s ease;
        }
        
        .btn-buy:hover::after {
            left: 100%;
        }
        
        .btn-buy:hover {
            transform: scale(1.05);
        }
        
        /* Ë¥≠Áâ©ËΩ¶ */
        .cart-section {
            padding: 30px;
            background-color: #f8f9fa;
            border-top: 2px solid #e9ecef;
        }
        
        .cart-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #1a2980;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .cart-empty {
            text-align: center;
            padding: 40px;
            color: #6c757d;
            font-size: 1.2rem;
        }
        
        .cart-items {
            margin-bottom: 30px;
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .cart-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .cart-item-info h4 {
            font-size: 1.2rem;
            margin-bottom: 5px;
            color: #1a2980;
        }
        
        .cart-item-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: #e53935;
        }
        
        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .cart-summary {
            background-color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
        }
        
        .cart-summary::before {
            content: "üí∞";
            position: absolute;
            font-size: 100px;
            opacity: 0.1;
            right: 20px;
            top: 20px;
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 1.2rem;
            position: relative;
            z-index: 1;
        }
        
        .summary-total {
            font-size: 1.8rem;
            font-weight: 900;
            color: #e53935;
            border-top: 2px solid #e9ecef;
            padding-top: 15px;
            margin-top: 15px;
        }
        
        /* ÂàÜ‰∫´ÁªìÊûúÂºπÁ™ó */
        .share-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .share-modal.active {
            display: flex;
        }
        
        .share-content {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .share-header {
            background: linear-gradient(90deg, #1a2980 0%, #26d0ce 100%);
            color: white;
            padding: 25px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .share-header h2 {
            font-size: 2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .close-modal:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .share-body {
            padding: 30px;
        }
        
        .result-summary {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #1a2980;
        }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .summary-item {
            text-align: center;
        }
        
        .summary-label {
            font-size: 0.9rem;
            color: #6c757d;
            margin-bottom: 5px;
        }
        
        .summary-value {
            font-size: 1.8rem;
            font-weight: 800;
            color: #1a2980;
        }
        
        .summary-value.total-spent {
            color: #e53935;
        }
        
        .summary-value.remaining {
            color: #4CAF50;
        }
        
        .purchased-items {
            margin-bottom: 30px;
        }
        
        .items-title {
            font-size: 1.5rem;
            color: #1a2980;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e9ecef;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .items-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
            border-radius: 10px;
        }
        
        .item-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .item-row:last-child {
            border-bottom: none;
        }
        
        .item-name {
            flex: 2;
            font-weight: 600;
        }
        
        .item-quantity {
            flex: 1;
            text-align: center;
            color: #6c757d;
        }
        
        .item-price {
            flex: 1;
            text-align: right;
            font-weight: 700;
            color: #e53935;
        }
        
        .share-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .share-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }
        
        .btn-image {
            background-color: #4CAF50;
            color: white;
        }
        
        .btn-pdf {
            background-color: #FF5722;
            color: white;
        }
        
        .btn-copy {
            background-color: #2196F3;
            color: white;
        }
        
        .share-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .btn-image:hover {
            background-color: #45a049;
        }
        
        .btn-pdf:hover {
            background-color: #ff3d00;
        }
        
        .btn-copy:hover {
            background-color: #0b7dda;
        }
        
        /* È°µËÑö */
        .footer {
            padding: 30px;
            text-align: center;
            background-color: #1a2980;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .footer::before {
            content: "üí∞ üíµ üíé";
            position: absolute;
            font-size: 50px;
            opacity: 0.1;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .disclaimer {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 15px;
            line-height: 1.6;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            position: relative;
            z-index: 1;
        }
        
        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
                flex-direction: column;
                gap: 5px;
            }
            
            .fortune-amount, .remaining-amount {
                font-size: 2rem;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                padding: 20px;
            }
            
            .controls {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .cart-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .cart-item-quantity {
                align-self: flex-end;
            }
            
            .share-content {
                width: 95%;
                max-height: 95vh;
            }
            
            .share-actions {
                flex-direction: column;
            }
            
            .share-btn {
                width: 100%;
                justify-content: center;
            }
            
            .theme-selector {
                position: relative;
                top: 0;
                right: 0;
                justify-content: center;
                margin-bottom: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .category-tabs {
                flex-wrap: wrap;
            }
            
            .summary-grid {
                grid-template-columns: 1fr;
            }
            
            .item-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .item-quantity, .item-price {
                align-self: flex-end;
            }
        }
    </style>
</head>
<body class="theme-1">
    <div class="container">
        <!-- ‰∏ªÈ¢òÈÄâÊã©Âô® -->
        <div class="theme-selector">
            <div class="theme-btn theme-1 active" data-theme="1"></div>
            <div class="theme-btn theme-2" data-theme="2"></div>
            <div class="theme-btn theme-3" data-theme="3"></div>
            <div class="theme-btn theme-4" data-theme="4"></div>
            <div class="theme-btn theme-5" data-theme="5"></div>
        </div>
        
        <!-- Âø´‰πêÊèêÁ§∫ -->
        <div class="happiness-indicator">
            <i class="fas fa-laugh-beam"></i> Ëä±Èí±ÁöÑÂø´‰πêÔºå‰Ω†ÂÄºÂæóÊã•ÊúâÔºÅ <i class="fas fa-grin-stars"></i>
        </div>

        <!-- Â§¥ÈÉ®Ë¥¢ÂØåÂ±ïÁ§∫ -->
        <header class="header">
            <h1><i class="fas fa-money-bill-wave"></i> Ëä±È©¨‰∫ëÁöÑÈí±  <a href="https://hits.sh/javaboy2012.github.io/mayun.html/"><img alt="Hits" src="https://hits.sh/javaboy2012.github.io/mayun.html.svg?label=%E4%BD%93%E9%AA%8C%E4%BA%BA%E6%95%B0"/></a></h1>
            <p class="subtitle">‰ΩìÈ™å‰∏Ä‰∏ã‰∏≠ÂõΩÈ°∂Á∫ßÂØåË±™ÁöÑË¥¢ÂØåÊòØ‰ªÄ‰πàÊ¶ÇÂøµ</p>
            
            <div class="fortune-display">
                <div class="fortune-info">
                    <p class="fortune-label">È©¨‰∫ëÂáÄËµÑ‰∫ß (ÂèÇËÄÉÁ¶èÂ∏ÉÊñØÊï∞ÊçÆ):</p>
                    <p class="fortune-amount" id="fortuneAmount">$30,000,000,000</p>
                    <p class="fortune-note">Êï∞ÊçÆÊù•Ê∫ê: Á¶èÂ∏ÉÊñØ2024ÂÖ®ÁêÉÂØåË±™Ê¶ú (Ê®°ÊãüÊï∞ÊçÆÔºå‰ªÖÁî®‰∫éÂ®±‰πê)</p>
                </div>
                
                <div class="remaining-info">
                    <p class="remaining-label">‰Ω†ÁöÑÂâ©‰ΩôË¥¢ÂØå:</p>
                    <p class="remaining-amount" id="remainingAmount">$30,000,000,000</p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <p class="spent-label">Â∑≤Ëä±Ë¥π: <span id="spentAmount">$0</span></p>
                </div>
            </div>
        </header>

        <!-- ÊéßÂà∂Èù¢Êùø -->
        <div class="controls">
            <div class="total-spent" id="totalSpentContainer">
                Ë¥≠Áâ©ËΩ¶ÊÄªËÆ°: <span id="totalSpent">$0</span>
            </div>
            <div class="buttons">
                <button class="btn btn-reset" id="resetBtn">
                    <i class="fas fa-redo"></i> ‰∏ÄÈîÆÈáçÁΩÆ
                </button>
                <button class="btn btn-share" id="shareBtn">
                    <i class="fas fa-share-alt"></i> ÂàÜ‰∫´ÁªìÊûú
                </button>
            </div>
        </div>

        <!-- ÂïÜÂìÅÂàÜÁ±ª -->
        <div class="categories">
            <div class="category-tabs">
                <button class="category-btn active" data-category="all">ÂÖ®ÈÉ®ÂïÜÂìÅ</button>
                <button class="category-btn" data-category="luxury">Â•¢‰æàÁîüÊ¥ª</button>
                <button class="category-btn" data-category="business">ÂïÜ‰∏öÂ∏ùÂõΩ</button>
                <button class="category-btn" data-category="charity">ÂÖ¨ÁõäÊäïËµÑ</button>
                <button class="category-btn" data-category="culture">ÊñáÂåñÊî∂Ëóè</button>
                <button class="category-btn" data-category="whimsical">Â•áÊÄùÂ¶ôÊÉ≥</button>
            </div>
        </div>

        <!-- ÂïÜÂìÅÁΩëÊ†º -->
        <div class="products-grid" id="productsGrid">
            <!-- ÂïÜÂìÅÂç°ÁâáÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
        </div>

        <!-- Ë¥≠Áâ©ËΩ¶ -->
        <div class="cart-section">
            <h2 class="cart-title"><i class="fas fa-shopping-cart"></i> ‰Ω†ÁöÑË¥≠Áâ©ËΩ¶</h2>
            
            <div class="cart-items" id="cartItems">
                <div class="cart-empty" id="emptyCart">
                    <i class="fas fa-cart-plus" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.5;"></i>
                    <p>Ë¥≠Áâ©ËΩ¶Á©∫Á©∫Â¶Ç‰πü<br>Âø´ÂéªÊåëÈÄâ‰Ω†ÂøÉ‰ª™ÁöÑÂïÜÂìÅÂêßÔºÅ</p>
                </div>
                <!-- Ë¥≠Áâ©ËΩ¶È°πÁõÆÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
            </div>
            
            <div class="cart-summary">
                <div class="summary-row">
                    <span>ÂïÜÂìÅÊÄª‰ª∑:</span>
                    <span id="cartSubtotal">$0</span>
                </div>
                <div class="summary-row">
                    <span>Â∑≤Ëä±Ë¥πÊØî‰æã:</span>
                    <span id="spentPercentage">0%</span>
                </div>
                <div class="summary-row summary-total">
                    <span>ÊÄªËÆ°Ëä±Ë¥π:</span>
                    <span id="cartTotal">$0</span>
                </div>
            </div>
        </div>

        <!-- ÂàÜ‰∫´ÁªìÊûúÂºπÁ™ó -->
        <div class="share-modal" id="shareModal">
            <div class="share-content" id="shareContent">
                <div class="share-header">
                    <h2><i class="fas fa-chart-pie"></i> Ê∂àË¥πÁªìÊûúÊä•Âëä</h2>
                    <button class="close-modal" id="closeModal">&times;</button>
                </div>
                <div class="share-body">
                    <div class="result-summary">
                        <h3 style="margin-bottom: 20px; color: #1a2980;">‰Ω†ÁöÑÊ∂àË¥πÊàêÊûú</h3>
                        <div class="summary-grid">
                            <div class="summary-item">
                                <div class="summary-label">ÂàùÂßãË¥¢ÂØå</div>
                                <div class="summary-value" id="modalInitialFortune">$30B</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">ÊÄªËÆ°Ëä±Ë¥π</div>
                                <div class="summary-value total-spent" id="modalTotalSpent">$0</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Ââ©‰ΩôË¥¢ÂØå</div>
                                <div class="summary-value remaining" id="modalRemainingFortune">$30B</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Ëä±Ë¥πÊØî‰æã</div>
                                <div class="summary-value" id="modalSpentPercentage">0%</div>
                            </div>
                        </div>
                        <div style="text-align: center; color: #6c757d; font-style: italic;">
                            <i class="fas fa-info-circle"></i> Êï∞ÊçÆÂü∫‰∫éÈ©¨‰∫ë300‰∫øÁæéÂÖÉÂáÄËµÑ‰∫ßÊ®°ÊãüËÆ°ÁÆó
                        </div>
                    </div>
                    
                    <div class="purchased-items">
                        <h3 class="items-title"><i class="fas fa-shopping-bag"></i> Â∑≤Ë¥≠ÂïÜÂìÅÊ∏ÖÂçï</h3>
                        <div class="items-list" id="modalItemsList">
                            <!-- ÂïÜÂìÅÂàóË°®Â∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                        </div>
                    </div>
                    
                    <div class="share-actions">
                        <button class="share-btn btn-image" id="exportImage">
                            <i class="fas fa-camera"></i> ÂØºÂá∫‰∏∫ÂõæÁâá
                        </button>
                        <button class="share-btn btn-pdf" id="exportPDF">
                            <i class="fas fa-file-pdf"></i> ÂØºÂá∫‰∏∫PDF
                        </button>
                        <button class="share-btn btn-copy" id="copyText">
                            <i class="fas fa-copy"></i> Â§çÂà∂ÂàÜ‰∫´ÊñáÊ°à
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- È°µËÑö -->
        <footer class="footer">
            <p>Êú¨ÁΩëÁ´ô‰∏∫Ê®°ÊãüÊ∏∏ÊàèÔºå‰ªÖ‰æõÂ®±‰πê</p>
            <p class="disclaimer">
                Ê≥®: ÊâÄÊúâË¥¢ÂØåÊï∞ÊçÆÂùá‰∏∫Ê®°Êãü‰º∞ÁÆóÔºå‰∏éÂÆûÈôÖ‰∫∫Áâ©Ë¥¢ÂØåÁä∂ÂÜµÊó†ÂÖ≥„ÄÇÂïÜÂìÅ‰ª∑Ê†ºÂü∫‰∫éÂ∏ÇÂú∫ÂÖ¨ÂºÄ‰ø°ÊÅØ‰º∞ÁÆóÔºåÂèØËÉΩ‰∏éÂÆûÈôÖ‰ª∑Ê†ºÂ≠òÂú®Â∑ÆÂºÇ„ÄÇÊú¨ÁΩëÁ´ô‰∏éÈ©¨‰∫ëÂÖàÁîüÂèäÂÖ∂ÂÖ≥ËÅîÂÖ¨Âè∏Êó†‰ªª‰ΩïÂÖ≥Á≥ª„ÄÇ
            </p>
        </footer>
    </div>

    <script>
        // ÂÖ®Â±ÄÂèòÈáè
        let totalFortune = 30000000000; // 300‰∫øÁæéÂÖÉ
        let remainingFortune = totalFortune;
        let cart = {}; // Ë¥≠Áâ©ËΩ¶ÂØπË±° {productId: quantity}
        let products = []; // ÂïÜÂìÅÊï∞ÁªÑ
        let currentTheme = '1'; // ÂΩìÂâç‰∏ªÈ¢ò
        
        // ÂïÜÂìÅÊï∞ÊçÆ
        const productData = [
            // Â•¢‰æàÁîüÊ¥ª
            { 
                id: 1, 
                name: "Êù≠Â∑ûË•øÊπñËæπÈ°∂Á∫ßÂ∫ÑÂõ≠", 
                description: "Âç†Âú∞50‰∫©ÔºåÊã•ÊúâÁßÅ‰∫∫ÊπñÊôØÂíåÂè§ÂÖ∏Âõ≠ÊûóÔºåÈ©¨‰∫ëÈÇªÂ±ÖÂêåÊ¨æ", 
                price: 450000000, 
                category: "luxury",
                icon: "fas fa-home",
                badge: "üèÜ ÈôêÈáè"
            },
            { 
                id: 2, 
                name: "ÊπæÊµÅG700ÁßÅ‰∫∫È£ûÊú∫", 
                description: "ÂÖ®ÁêÉÊúÄË±™ÂçéÁßÅ‰∫∫È£ûÊú∫ÔºåËà™Á®ãÂèØËææ13,890ÂÖ¨Èáå", 
                price: 75000000, 
                category: "luxury",
                icon: "fas fa-plane",
                badge: "‚úàÔ∏è Â∞ä‰∫´"
            },
            { 
                id: 3, 
                name: "Sunseeker 100Á±≥Ë∂ÖÁ∫ßÊ∏∏Ëâá", 
                description: "ÈÖçÂ§áÁõ¥ÂçáÊú∫ÂÅúÊú∫Âù™„ÄÅÊ∏∏Ê≥≥Ê±†ÂíåÁîµÂΩ±Èô¢", 
                price: 280000000, 
                category: "luxury",
                icon: "fas fa-ship",
                badge: "‚öì Ë±™Âçé"
            },
            { 
                id: 4, 
                name: "Â∏ÉÂä†Ëø™La Voiture Noire", 
                description: "ÂÖ®ÁêÉ‰ªÖ‰∏ÄËæÜÁöÑË∂ÖÁ∫ßË∑ëËΩ¶ÔºåÊâãÂ∑•ÊâìÈÄ†", 
                price: 18700000, 
                category: "luxury",
                icon: "fas fa-car",
                badge: "üèéÔ∏è Á®ÄÊúâ"
            },
            { 
                id: 5, 
                name: "ÁëûÂ£´ÈòøÂ∞îÂçëÊñØÂ±±ÊªëÈõ™Âà´Â¢Ö", 
                description: "ÂÜ¨Â≠£ËøêÂä®ËÉúÂú∞ÔºåÊã•ÊúâÁßÅ‰∫∫ÊªëÈõ™ÈÅìÂíåÊ∏©Ê≥â", 
                price: 65000000, 
                category: "luxury",
                icon: "fas fa-mountain",
                badge: "‚õ∑Ô∏è Â∫¶ÂÅá"
            },
            
            // ÂïÜ‰∏öÂ∏ùÂõΩ
            { 
                id: 6, 
                name: "Êî∂Ë¥≠‰∏ÄÊîØ‰∏≠Ë∂ÖË∂≥ÁêÉÈòü", 
                description: "‰π∞‰∏ãÈ°∂Á∫ßË∂≥ÁêÉ‰ø±‰πêÈÉ®ÔºåÊâìÈÄ†‰∏≠ÂõΩË∂≥ÁêÉÊ¢¶‰πãÈòü", 
                price: 800000000, 
                category: "business",
                icon: "fas fa-futbol",
                badge: "‚öΩ ÊäïËµÑ"
            },
            { 
                id: 7, 
                name: "ÊäïËµÑ‰∏ÄÈÉ®Â•ΩËé±ÂùûÂ§ßÁâá", 
                description: "ÂÖ®È¢ùÊäïËµÑ‰∏ÄÈÉ®Áî±ÂõΩÈôÖÂ∑®Êòü‰∏ªÊºîÁöÑÈ°∂Á∫ßÂà∂‰ΩúÁîµÂΩ±", 
                price: 300000000, 
                category: "business",
                icon: "fas fa-film",
                badge: "üé¨ Â®±‰πê"
            },
            { 
                id: 8, 
                name: "‰π∞‰∏ã‰∏ÄÂÆ∂ÁßëÊäÄÂàùÂàõÂÖ¨Âè∏", 
                description: "ÊäïËµÑ‰∏ã‰∏Ä‰∏™\"ÈòøÈáåÂ∑¥Â∑¥\"ÔºåÊã•ÊúâÂ∑®Â§ßÂ¢ûÈïøÊΩúÂäõ", 
                price: 2000000000, 
                category: "business",
                icon: "fas fa-laptop-code",
                badge: "üíª ÁßëÊäÄ"
            },
            { 
                id: 9, 
                name: "ÊâìÈÄ†ÂÖ®ÂõΩËøûÈîÅÈ´òÁ´ØË∂ÖÂ∏Ç", 
                description: "ÂÉèÁõíÈ©¨È≤úÁîü‰∏ÄÊ†∑ÔºåÂú®ÂÖ®ÂõΩÂºÄËÆæ100ÂÆ∂È´òÁ´ØÈó®Â∫ó", 
                price: 1500000000, 
                category: "business",
                icon: "fas fa-store",
                badge: "üõí Èõ∂ÂîÆ"
            },
            { 
                id: 10, 
                name: "Êî∂Ë¥≠Áü≠ËßÜÈ¢ëÂπ≥Âè∞", 
                description: "‰π∞‰∏ãÁ±ª‰ººÊäñÈü≥ÁöÑÁü≠ËßÜÈ¢ëÂπ≥Âè∞ÔºåÊéåÊè°ÊµÅÈáèÂÖ•Âè£", 
                price: 50000000000, 
                category: "business",
                icon: "fas fa-video",
                badge: "üî• ÁÉ≠Èó®"
            },
            
            // ÂÖ¨ÁõäÊäïËµÑ
            { 
                id: 11, 
                name: "ÊçêÂª∫1000ÊâÄÂ∏åÊúõÂ∞èÂ≠¶", 
                description: "ËÆ©ÂÅèËøúÂú∞Âå∫ÁöÑÂ≠©Â≠êÈÉΩËÉΩÊé•ÂèóËâØÂ•ΩÊïôËÇ≤", 
                price: 500000000, 
                category: "charity",
                icon: "fas fa-school",
                badge: "‚ù§Ô∏è ÊÖàÂñÑ"
            },
            { 
                id: 12, 
                name: "ËÆæÁ´ãÁßëÊäÄÂàõÊñ∞Âü∫Èáë", 
                description: "ÊîØÊåÅ1000‰∏™ÈùíÂπ¥ÁßëÊäÄÂàõ‰∏öÈ°πÁõÆ", 
                price: 1000000000, 
                category: "charity",
                icon: "fas fa-flask",
                badge: "üî¨ ÂàõÊñ∞"
            },
            { 
                id: 13, 
                name: "Ê≤ôÊº†ÁªøÂåñÈ°πÁõÆ", 
                description: "Âú®Ë•øÂåóÂú∞Âå∫ÁßçÊ§ç1‰∫øÊ£µÊ†ëÔºåÊîπÂñÑÁîüÊÄÅÁéØÂ¢É", 
                price: 300000000, 
                category: "charity",
                icon: "fas fa-tree",
                badge: "üå≥ ÁéØ‰øù"
            },
            { 
                id: 14, 
                name: "‰π°ÊùëÂåªÁñóÊîπÂñÑËÆ°Âàí", 
                description: "‰∏∫5000‰∏™‰π°ÊùëÈÖçÂ§áÁé∞‰ª£ÂåñÂåªÁñóËÆæÂ§á", 
                price: 800000000, 
                category: "charity",
                icon: "fas fa-hospital",
                badge: "üè• ÂÅ•Â∫∑"
            },
            { 
                id: 15, 
                name: "‰º†ÁªüÊñáÂåñ‰øùÊä§Âü∫Èáë", 
                description: "‰øùÊä§Âíå‰º†Êâø‰∏≠ÂõΩÈùûÁâ©Ë¥®ÊñáÂåñÈÅó‰∫ß", 
                price: 200000000, 
                category: "charity",
                icon: "fas fa-landmark",
                badge: "üèØ ÊñáÂåñ"
            },
            
            // ÊñáÂåñÊî∂Ëóè
            { 
                id: 16, 
                name: "Âº†Â§ßÂçÉÁúüËøπ„ÄäÈïøÊ±ü‰∏áÈáåÂõæ„Äã", 
                description: "ÂõΩÁîªÂ§ßÂ∏àÂ∑ÖÂ≥∞‰πã‰ΩúÔºåËâ∫ÊúØ‰ª∑ÂÄºËøûÂüé", 
                price: 120000000, 
                category: "culture",
                icon: "fas fa-paint-brush",
                badge: "üé® Ëâ∫ÊúØ"
            },
            { 
                id: 17, 
                name: "Êòé‰ª£ÈùíËä±Áì∑Áì∂", 
                description: "‰øùÂ≠òÂÆåÂ•ΩÁöÑÂÆòÁ™ëÁ≤æÂìÅÔºåÊòé‰ª£Èô∂Áì∑Ëâ∫ÊúØ‰ª£Ë°®‰Ωú", 
                price: 85000000, 
                category: "culture",
                icon: "fas fa-vase",
                badge: "üè∫ Âè§Ëë£"
            },
            { 
                id: 18, 
                name: "1958Âπ¥Ë¥µÂ∑ûËåÖÂè∞ÈÖí", 
                description: "Â≠ò‰∏ñÁ®ÄÂ∞ëÁöÑÈôàÂπ¥ËåÖÂè∞ÔºåÊî∂ËóèÁ∫ßÁèçÂìÅ", 
                price: 5000000, 
                category: "culture",
                icon: "fas fa-wine-bottle",
                badge: "üç∂ ÁèçÂìÅ"
            },
            { 
                id: 19, 
                name: "ÂúÜÊòéÂõ≠ÂÖΩÈ¶ñÈìúÂÉè", 
                description: "ÊµÅÂ§±Êµ∑Â§ñÊñáÁâ©ÂõûÂΩíÔºåÂÖ∑ÊúâÈáçË¶ÅÂéÜÂè≤ÊÑè‰πâ", 
                price: 300000000, 
                category: "culture",
                icon: "fas fa-monument",
                badge: "üèõÔ∏è ÂõΩÂÆù"
            },
            { 
                id: 20, 
                name: "Êï∞Â≠óËâ∫ÊúØÂìÅÊî∂Ëóè", 
                description: "Ë¥≠‰π∞È°∂Á∫ßNFTÊï∞Â≠óËâ∫ÊúØÂìÅÔºåÊã•Êä±Êï∞Â≠óÊú™Êù•", 
                price: 50000000, 
                category: "culture",
                icon: "fas fa-digital-tachograph",
                badge: "üñºÔ∏è Êï∞Â≠ó"
            },
            
            // Â•áÊÄùÂ¶ôÊÉ≥
            { 
                id: 21, 
                name: "ÂåÖÂú∫Â§ÆËßÜÊò•ÊôöÂπøÂëä", 
                description: "Áã¨ÂÆ∂ÂÜ†ÂêçÊò•ÊôöÔºåËÆ©ÂÖ®ÂõΩ‰∫∫Ê∞ëÁúãÂà∞‰Ω†ÁöÑÂìÅÁâå", 
                price: 1000000000, 
                category: "whimsical",
                icon: "fas fa-tv",
                badge: "üì∫ ÊõùÂÖâ"
            },
            { 
                id: 22, 
                name: "ÂèëÂ∞ÑÁßÅ‰∫∫Âç´Êòü", 
                description: "Â∞Ü‰Ω†ÁöÑÂêçÂ≠óÈÄÅÂÖ•Â§™Á©∫ÔºåÂª∫Á´ãÁßÅ‰∫∫ÈÄöËÆØÁΩëÁªú", 
                price: 50000000, 
                category: "whimsical",
                icon: "fas fa-satellite",
                badge: "üõ∞Ô∏è Â§™Á©∫"
            },
            { 
                id: 23, 
                name: "ÊâìÈÄ†„ÄäË•øÊ∏∏ËÆ∞„Äã‰∏ªÈ¢ò‰πêÂõ≠", 
                description: "ÂÖ®ÁêÉÈ¶ñ‰∏™‰∏≠ÂõΩÁ•ûËØùIP‰∏ªÈ¢ò‰πêÂõ≠", 
                price: 3000000000, 
                category: "whimsical",
                icon: "fas fa-theater-masks",
                badge: "üé™ Â®±‰πê"
            },
            { 
                id: 24, 
                name: "Ë¥≠‰π∞ÂçóÊûÅÁßëËÄÉÁ´ôÂëΩÂêçÊùÉ", 
                description: "Âú®ÂçóÊûÅÊã•Êúâ‰ª•‰Ω†ÂëΩÂêçÁöÑÊ∞∏‰πÖÁßëËÄÉÁ´ô", 
                price: 80000000, 
                category: "whimsical",
                icon: "fas fa-igloo",
                badge: "‚ùÑÔ∏è ÊûÅÂú∞"
            },
            { 
                id: 25, 
                name: "‰∏æÂäûÂÖ®ÁêÉÂ∑°ÂõûÊºîÂî±‰ºö", 
                description: "ÈÇÄËØ∑È°∂Á∫ßÊòéÊòüÔºåÂú®‰∏ñÁïå10Â§ßÂüéÂ∏Ç‰∏æÂäûË±™ÂçéÊºîÂá∫", 
                price: 250000000, 
                category: "whimsical",
                icon: "fas fa-music",
                badge: "üé§ Èü≥‰πê"
            }
        ];
        
        // ÂàõÂª∫ÈáëÈí±ÁâπÊïà
        function createMoneyEffect(x, y, amount) {
            const money = document.createElement('div');
            money.className = 'money-effect';
            money.textContent = `+${formatMoney(amount)}`;
            money.style.left = `${x}px`;
            money.style.top = `${y}px`;
            document.body.appendChild(money);
            
            // 1ÁßíÂêéÁßªÈô§
            setTimeout(() => {
                money.remove();
            }, 1000);
        }
        
        // Ê†ºÂºèÂåñÈáëÈ¢ùÊòæÁ§∫
        function formatMoney(amount) {
            if (amount >= 1000000000) {
                return '$' + (amount / 1000000000).toFixed(2) + 'B';
            } else if (amount >= 1000000) {
                return '$' + (amount / 1000000).toFixed(2) + 'M';
            } else if (amount >= 1000) {
                return '$' + (amount / 1000).toFixed(1) + 'K';
            }
            return '$' + amount.toLocaleString();
        }
        
        // ÂàùÂßãÂåñÂïÜÂìÅÊòæÁ§∫
        function initProducts() {
            const productsGrid = document.getElementById('productsGrid');
            productsGrid.innerHTML = '';
            
            products = [...productData];
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.setAttribute('data-category', product.category);
                
                productCard.innerHTML = `
                    ${product.badge ? `<div class="product-badge">${product.badge}</div>` : ''}
                    <div class="product-image">
                        <i class="${product.icon}"></i>
                    </div>
                    <div class="product-content">
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        <div class="product-price"><i class="fas fa-coins"></i> ${formatMoney(product.price)}</div>
                        <div class="product-controls">
                            <div class="quantity-controls">
                                <button class="quantity-btn minus-btn" data-id="${product.id}">-</button>
                                <span class="quantity" id="quantity-${product.id}">0</span>
                                <button class="quantity-btn plus-btn" data-id="${product.id}">+</button>
                            </div>
                            <button class="btn-buy" data-id="${product.id}">
                                <i class="fas fa-cart-plus"></i> Âä†ÂÖ•Ë¥≠Áâ©ËΩ¶
                            </button>
                        </div>
                    </div>
                `;
                
                productsGrid.appendChild(productCard);
            });
            
            // Ê∑ªÂä†‰∫ã‰ª∂ÁõëÂê¨
            document.querySelectorAll('.btn-buy').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    const productId = parseInt(this.getAttribute('data-id'));
                    addToCart(productId, 1, e.clientX, e.clientY);
                });
            });
            
            document.querySelectorAll('.plus-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    const productId = parseInt(this.getAttribute('data-id'));
                    addToCart(productId, 1, e.clientX, e.clientY);
                });
            });
            
            document.querySelectorAll('.minus-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    removeFromCart(productId, 1);
                });
            });
        }
        
        // Ê∑ªÂä†Âà∞Ë¥≠Áâ©ËΩ¶
        function addToCart(productId, quantity, x, y) {
            const product = products.find(p => p.id === productId);
            
            if (!product) return;
            
            // Ê£ÄÊü•ÊòØÂê¶ÊúâË∂≥Â§üË¥¢ÂØå
            const currentQuantity = cart[productId] || 0;
            const totalCost = product.price * (currentQuantity + quantity);
            const currentSpent = calculateTotalSpent();
            
            if (currentSpent + product.price * quantity > totalFortune) {
                alert('‰ΩôÈ¢ù‰∏çË∂≥ÔºÅÊó†Ê≥ïË¥≠‰π∞Êõ¥Â§öÂïÜÂìÅ„ÄÇ');
                return;
            }
            
            // Êõ¥Êñ∞Ë¥≠Áâ©ËΩ¶
            cart[productId] = currentQuantity + quantity;
            
            // ÂàõÂª∫ÈáëÈí±ÁâπÊïà
            if (x && y) {
                createMoneyEffect(x, y, product.price);
            }
            
            // Êí≠ÊîæÈü≥ÊïàÔºàÊ®°ÊãüÔºâ
            if (typeof Audio !== 'undefined') {
                try {
                    const audio = new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==');
                    audio.volume = 0.3;
                    audio.play().catch(e => console.log('Èü≥È¢ëÊí≠ÊîæÂ§±Ë¥•:', e));
                } catch (e) {
                    console.log('Èü≥È¢ëÂàõÂª∫Â§±Ë¥•:', e);
                }
            }
            
            // Êõ¥Êñ∞UI
            updateCartDisplay();
            updateProductQuantityDisplay(productId);
            
            // Êõ¥Êñ∞ÊÄªËä±Ë¥πÁöÑÂä®ÁîªÊïàÊûú
            const totalSpentElement = document.getElementById('totalSpentContainer');
            totalSpentElement.classList.add('high');
            setTimeout(() => {
                totalSpentElement.classList.remove('high');
            }, 500);
        }
        
        // ‰ªéË¥≠Áâ©ËΩ¶ÁßªÈô§
        function removeFromCart(productId, quantity) {
            if (!cart[productId]) return;
            
            cart[productId] -= quantity;
            
            if (cart[productId] <= 0) {
                delete cart[productId];
            }
            
            // Êõ¥Êñ∞UI
            updateCartDisplay();
            updateProductQuantityDisplay(productId);
        }
        
        // Êõ¥Êñ∞ÂïÜÂìÅÊï∞ÈáèÊòæÁ§∫
        function updateProductQuantityDisplay(productId) {
            const quantityElement = document.getElementById(`quantity-${productId}`);
            if (quantityElement) {
                quantityElement.textContent = cart[productId] || 0;
            }
        }
        
        // ËÆ°ÁÆóÊÄªËä±Ë¥π
        function calculateTotalSpent() {
            let total = 0;
            
            for (const [productId, quantity] of Object.entries(cart)) {
                const product = products.find(p => p.id === parseInt(productId));
                if (product) {
                    total += product.price * quantity;
                }
            }
            
            return total;
        }
        
        // Êõ¥Êñ∞Ë¥≠Áâ©ËΩ¶ÊòæÁ§∫
        function updateCartDisplay() {
            const cartItemsElement = document.getElementById('cartItems');
            const emptyCartElement = document.getElementById('emptyCart');
            const totalSpent = calculateTotalSpent();
            
            remainingFortune = totalFortune - totalSpent;
            
            // Êõ¥Êñ∞Ë¥¢ÂØåÊòæÁ§∫
            document.getElementById('remainingAmount').textContent = formatMoney(remainingFortune);
            document.getElementById('spentAmount').textContent = formatMoney(totalSpent);
            document.getElementById('totalSpent').textContent = formatMoney(totalSpent);
            
            // Êõ¥Êñ∞Ââ©‰ΩôË¥¢ÂØåÈ¢úËâ≤Ôºà‰Ωé‰∫é10%ÂèòÁ∫¢Ëâ≤Ôºâ
            const remainingAmountElement = document.getElementById('remainingAmount');
            if (remainingFortune < totalFortune * 0.1) {
                remainingAmountElement.classList.add('low');
            } else {
                remainingAmountElement.classList.remove('low');
            }
            
            // Êõ¥Êñ∞ËøõÂ∫¶Êù°
            const spentPercentage = (totalSpent / totalFortune) * 100;
            document.getElementById('progressFill').style.width = `${Math.min(spentPercentage, 100)}%`;
            
            // Êõ¥Êñ∞Ë¥≠Áâ©ËΩ¶ÊÄªËÆ°
            document.getElementById('cartSubtotal').textContent = formatMoney(totalSpent);
            document.getElementById('cartTotal').textContent = formatMoney(totalSpent);
            document.getElementById('spentPercentage').textContent = `${spentPercentage.toFixed(2)}%`;
            
            // Ê∏ÖÁ©∫Ë¥≠Áâ©ËΩ¶ÊòæÁ§∫
            const existingItems = cartItemsElement.querySelectorAll('.cart-item');
            existingItems.forEach(item => item.remove());
            
            // Â¶ÇÊûúË¥≠Áâ©ËΩ¶‰∏∫Á©∫ÔºåÊòæÁ§∫Á©∫Ë¥≠Áâ©ËΩ¶Ê∂àÊÅØ
            if (Object.keys(cart).length === 0) {
                emptyCartElement.style.display = 'block';
                return;
            }
            
            // ÈöêËóèÁ©∫Ë¥≠Áâ©ËΩ¶Ê∂àÊÅØ
            emptyCartElement.style.display = 'none';
            
            // Ê∑ªÂä†Ë¥≠Áâ©ËΩ¶È°πÁõÆ
            for (const [productId, quantity] of Object.entries(cart)) {
                const product = products.find(p => p.id === parseInt(productId));
                if (!product) continue;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-info">
                        <h4>${product.name}</h4>
                        <p>Âçï‰ª∑: ${formatMoney(product.price)}</p>
                    </div>
                    <div class="cart-item-price">${formatMoney(product.price * quantity)}</div>
                    <div class="cart-item-quantity">
                        <button class="quantity-btn minus-btn" data-id="${productId}">-</button>
                        <span class="quantity">${quantity}</span>
                        <button class="quantity-btn plus-btn" data-id="${productId}">+</button>
                        <button class="btn-buy remove-btn" data-id="${productId}" style="background-color: #ff6b6b; margin-left: 10px;">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                cartItemsElement.appendChild(cartItem);
            }
            
            // ‰∏∫Ë¥≠Áâ©ËΩ¶‰∏≠ÁöÑÊåâÈíÆÊ∑ªÂä†‰∫ã‰ª∂ÁõëÂê¨
            cartItemsElement.querySelectorAll('.plus-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    const productId = parseInt(this.getAttribute('data-id'));
                    addToCart(productId, 1, e.clientX, e.clientY);
                });
            });
            
            cartItemsElement.querySelectorAll('.minus-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    removeFromCart(productId, 1);
                });
            });
            
            cartItemsElement.querySelectorAll('.remove-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    const quantity = cart[productId] || 0;
                    removeFromCart(productId, quantity);
                });
            });
        }
        
        // ÈáçÁΩÆË¥≠Áâ©ËΩ¶
        function resetCart() {
            if (Object.keys(cart).length === 0) {
                alert('Ë¥≠Áâ©ËΩ¶Â∑≤ÁªèÊòØÁ©∫ÁöÑÂï¶ÔºÅ');
                return;
            }
            
            if (confirm('Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫Ë¥≠Áâ©ËΩ¶ÂêóÔºüËøôÂ∞Ü‰ºöÈáçÁΩÆÊâÄÊúâÂ∑≤ÈÄâÂïÜÂìÅ„ÄÇ')) {
                cart = {};
                remainingFortune = totalFortune;
                updateCartDisplay();
                
                // ÈáçÁΩÆÊâÄÊúâÂïÜÂìÅÊï∞ÈáèÊòæÁ§∫
                products.forEach(product => {
                    updateProductQuantityDisplay(product.id);
                });
            }
        }
        
        // ÊòæÁ§∫ÂàÜ‰∫´ÂºπÁ™ó
        function showShareModal() {
            const totalSpent = calculateTotalSpent();
            const spentPercentage = ((totalSpent / totalFortune) * 100).toFixed(2);
            
            // Êõ¥Êñ∞ÂºπÁ™ó‰∏≠ÁöÑÁªüËÆ°Êï∞ÊçÆ
            document.getElementById('modalInitialFortune').textContent = formatMoney(totalFortune);
            document.getElementById('modalTotalSpent').textContent = formatMoney(totalSpent);
            document.getElementById('modalRemainingFortune').textContent = formatMoney(remainingFortune);
            document.getElementById('modalSpentPercentage').textContent = `${spentPercentage}%`;
            
            // Êõ¥Êñ∞ÂïÜÂìÅÂàóË°®
            const itemsList = document.getElementById('modalItemsList');
            itemsList.innerHTML = '';
            
            if (Object.keys(cart).length === 0) {
                itemsList.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #6c757d;">
                        <i class="fas fa-shopping-cart" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.5;"></i>
                        <p>ËøòÊ≤°ÊúâË¥≠‰π∞‰ªª‰ΩïÂïÜÂìÅ</p>
                    </div>
                `;
            } else {
                // Ê∑ªÂä†ÂïÜÂìÅÂàóË°®
                let itemsHTML = '';
                for (const [productId, quantity] of Object.entries(cart)) {
                    const product = products.find(p => p.id === parseInt(productId));
                    if (!product) continue;
                    
                    itemsHTML += `
                        <div class="item-row">
                            <div class="item-name">${product.name}</div>
                            <div class="item-quantity">√ó${quantity}</div>
                            <div class="item-price">${formatMoney(product.price * quantity)}</div>
                        </div>
                    `;
                }
                
                // Ê∑ªÂä†ÊÄªËÆ°Ë°å
                itemsHTML += `
                    <div class="item-row" style="background-color: #f8f9fa; font-weight: 800;">
                        <div class="item-name">ÊÄªËÆ°</div>
                        <div class="item-quantity"></div>
                        <div class="item-price" style="color: #e53935;">${formatMoney(totalSpent)}</div>
                    </div>
                `;
                
                itemsList.innerHTML = itemsHTML;
            }
            
            // ÊòæÁ§∫ÂºπÁ™ó
            document.getElementById('shareModal').classList.add('active');
            document.body.style.overflow = 'hidden'; // Èò≤Ê≠¢ËÉåÊôØÊªöÂä®
        }
        
        // ÂÖ≥Èó≠ÂàÜ‰∫´ÂºπÁ™ó
        function closeShareModal() {
            document.getElementById('shareModal').classList.remove('active');
            document.body.style.overflow = 'auto'; // ÊÅ¢Â§çËÉåÊôØÊªöÂä®
        }
        
        // ÂØºÂá∫‰∏∫ÂõæÁâá
        function exportAsImage() {
            const shareContent = document.getElementById('shareContent');
            
            // ‰∏¥Êó∂ÈöêËóèÂØºÂá∫ÊåâÈíÆÔºåÈÅøÂÖçÂá∫Áé∞Âú®Êà™Âõæ‰∏≠
            const exportButtons = document.querySelectorAll('.share-actions');
            exportButtons.forEach(btn => btn.style.display = 'none');
            
            html2canvas(shareContent, {
                scale: 2,
                useCORS: true,
                backgroundColor: '#ffffff',
                logging: false
            }).then(canvas => {
                // ÊÅ¢Â§çÊåâÈíÆÊòæÁ§∫
                exportButtons.forEach(btn => btn.style.display = 'flex');
                
                // ÂàõÂª∫‰∏ãËΩΩÈìæÊé•
                const link = document.createElement('a');
                link.download = `È©¨‰∫ëË¥¢ÂØåÊ∂àË¥πÊä•Âëä_${new Date().toISOString().slice(0,10)}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
                
                alert('ÂõæÁâáÂ∑≤ÁîüÊàêÂπ∂ÂºÄÂßã‰∏ãËΩΩÔºÅ');
            }).catch(error => {
                // ÊÅ¢Â§çÊåâÈíÆÊòæÁ§∫
                exportButtons.forEach(btn => btn.style.display = 'flex');
                console.error('ÂØºÂá∫ÂõæÁâáÂ§±Ë¥•:', error);
                alert('ÂØºÂá∫ÂõæÁâáÂ§±Ë¥•ÔºåËØ∑ÈáçËØïÊàñ‰ΩøÁî®ÂÖ∂‰ªñÂØºÂá∫ÊñπÂºè„ÄÇ');
            });
        }
        
        // ÂØºÂá∫‰∏∫PDF
        function exportAsPDF() {
            const shareContent = document.getElementById('shareContent');
            const totalSpent = calculateTotalSpent();
            const spentPercentage = ((totalSpent / totalFortune) * 100).toFixed(2);
            
            // ‰∏¥Êó∂ÈöêËóèÂØºÂá∫ÊåâÈíÆÔºåÈÅøÂÖçÂá∫Áé∞Âú®Êà™Âõæ‰∏≠
            const exportButtons = document.querySelectorAll('.share-actions');
            exportButtons.forEach(btn => btn.style.display = 'none');
            
            html2canvas(shareContent, {
                scale: 2,
                useCORS: true,
                backgroundColor: '#ffffff',
                logging: false
            }).then(canvas => {
                // ÊÅ¢Â§çÊåâÈíÆÊòæÁ§∫
                exportButtons.forEach(btn => btn.style.display = 'flex');
                
                // ÂàõÂª∫PDF
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('p', 'mm', 'a4');
                const imgData = canvas.toDataURL('image/png');
                const imgWidth = 210; // A4ÂÆΩÂ∫¶
                const pageHeight = 297; // A4È´òÂ∫¶
                const imgHeight = canvas.height * imgWidth / canvas.width;
                
                pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);
                
                // Â¶ÇÊûúÂÜÖÂÆπÂ§™ÈïøÔºåÂàÜÈ°µ
                let heightLeft = imgHeight;
                let position = 0;
                
                while (heightLeft > 0) {
                    position = heightLeft - pageHeight;
                    pdf.addPage();
                    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                    heightLeft -= pageHeight;
                }
                
                // ‰øùÂ≠òPDF
                pdf.save(`È©¨‰∫ëË¥¢ÂØåÊ∂àË¥πÊä•Âëä_${new Date().toISOString().slice(0,10)}.pdf`);
                
                alert('PDFÊñá‰ª∂Â∑≤ÁîüÊàêÂπ∂ÂºÄÂßã‰∏ãËΩΩÔºÅ');
            }).catch(error => {
                // ÊÅ¢Â§çÊåâÈíÆÊòæÁ§∫
                exportButtons.forEach(btn => btn.style.display = 'flex');
                console.error('ÂØºÂá∫PDFÂ§±Ë¥•:', error);
                alert('ÂØºÂá∫PDFÂ§±Ë¥•ÔºåËØ∑ÈáçËØïÊàñ‰ΩøÁî®ÂÖ∂‰ªñÂØºÂá∫ÊñπÂºè„ÄÇ');
            });
        }
        
        // Â§çÂà∂ÂàÜ‰∫´ÊñáÊ°à
        function copyShareText() {
            const totalSpent = calculateTotalSpent();
            const spentPercentage = ((totalSpent / totalFortune) * 100).toFixed(2);
            
            let message = `üéâ ÊàëÂú®"Ëä±È©¨‰∫ëÁöÑÈí±"Ê∏∏Êàè‰∏≠ÁöÑÊ∂àË¥πÊä•Âëä üéâ\n\n`;
            message += `üí∞ ÂàùÂßãË¥¢ÂØå: ${formatMoney(totalFortune)}\n`;
            message += `üí∏ ÊÄªËÆ°Ëä±Ë¥π: ${formatMoney(totalSpent)} (${spentPercentage}%)\n`;
            message += `ü§ë Ââ©‰ΩôË¥¢ÂØå: ${formatMoney(remainingFortune)}\n\n`;
            
            if (Object.keys(cart).length > 0) {
                message += `üõçÔ∏è Â∑≤Ë¥≠ÂïÜÂìÅÊ∏ÖÂçï:\n`;
                for (const [productId, quantity] of Object.entries(cart)) {
                    const product = products.find(p => p.id === parseInt(productId));
                    if (product) {
                        message += `  ‚Ä¢ ${product.name} √ó${quantity} = ${formatMoney(product.price * quantity)}\n`;
                    }
                }
                message += `\n`;
            }
            
            message += `üìÖ Êä•ÂëäÁîüÊàêÊó∂Èó¥: ${new Date().toLocaleString('zh-CN')}\n`;
            message += `üîó ‰Ω†‰πüÊù•ËØïËØï: Ëä±È©¨‰∫ëÁöÑÈí±Ê®°ÊãüÊ∏∏Êàè\n`;
            
            // Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø
            if (navigator.clipboard) {
                navigator.clipboard.writeText(message).then(() => {
                    alert('ÂàÜ‰∫´ÊñáÊ°àÂ∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÔºÅ');
                }).catch(err => {
                    prompt('ËØ∑Â§çÂà∂‰ª•‰∏ãÂàÜ‰∫´ÊñáÊ°à:', message);
                });
            } else {
                prompt('ËØ∑Â§çÂà∂‰ª•‰∏ãÂàÜ‰∫´ÊñáÊ°à:', message);
            }
        }
        
        // ÂàáÊç¢‰∏ªÈ¢ò
        function switchTheme(theme) {
            // ÁßªÈô§ÊâÄÊúâ‰∏ªÈ¢òÁ±ª
            document.body.classList.remove('theme-1', 'theme-2', 'theme-3', 'theme-4', 'theme-5');
            
            // Ê∑ªÂä†Êñ∞‰∏ªÈ¢òÁ±ª
            document.body.classList.add(`theme-${theme}`);
            currentTheme = theme;
            
            // Êõ¥Êñ∞‰∏ªÈ¢òÊåâÈíÆÁä∂ÊÄÅ
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.theme-btn.theme-${theme}`).classList.add('active');
        }
        
        // ÂàùÂßãÂåñ‰∏ªÈ¢òÈÄâÊã©Âô®
        function initThemeSelector() {
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const theme = this.getAttribute('data-theme');
                    switchTheme(theme);
                });
            });
        }
        
        // ÂïÜÂìÅÂàÜÁ±ªËøáÊª§
        function initCategoryFilter() {
            const categoryButtons = document.querySelectorAll('.category-btn');
            
            categoryButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Êõ¥Êñ∞Ê¥ªË∑ÉÊåâÈíÆ
                    categoryButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    const category = this.getAttribute('data-category');
                    filterProducts(category);
                });
            });
        }
        
        // ËøáÊª§ÂïÜÂìÅÊòæÁ§∫
        function filterProducts(category) {
            const productCards = document.querySelectorAll('.product-card');
            
            productCards.forEach(card => {
                if (category === 'all' || card.getAttribute('data-category') === category) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        // ÂàùÂßãÂåñÂ∫îÁî®
        function initApp() {
            // ÂàùÂßãÂåñÂïÜÂìÅ
            initProducts();
            
            // ÂàùÂßãÂåñ‰∏ªÈ¢òÈÄâÊã©Âô®
            initThemeSelector();
            
            // ÂàùÂßãÂåñÂàÜÁ±ªËøáÊª§
            initCategoryFilter();
            
            // ÂàùÂßãÂåñÊåâÈíÆ‰∫ã‰ª∂
            document.getElementById('resetBtn').addEventListener('click', resetCart);
            document.getElementById('shareBtn').addEventListener('click', showShareModal);
            document.getElementById('closeModal').addEventListener('click', closeShareModal);
            document.getElementById('exportImage').addEventListener('click', exportAsImage);
            document.getElementById('exportPDF').addEventListener('click', exportAsPDF);
            document.getElementById('copyText').addEventListener('click', copyShareText);
            
            // ÁÇπÂáªÂºπÁ™óËÉåÊôØÂÖ≥Èó≠ÂºπÁ™ó
            document.getElementById('shareModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeShareModal();
                }
            });
            
            // ÂàùÂßãÊõ¥Êñ∞ÊòæÁ§∫
            updateCartDisplay();
            
            // ÂàùÂßãÊ†ºÂºèÂåñË¥¢ÂØåÊòæÁ§∫
            document.getElementById('fortuneAmount').textContent = formatMoney(totalFortune);
            document.getElementById('remainingAmount').textContent = formatMoney(remainingFortune);
        }
        
        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>